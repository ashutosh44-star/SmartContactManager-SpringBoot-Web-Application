<!doctype html>
<html lang="en" xmlns="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<head>
	<meta charset="UTF-8" />
</head>

<body>
	<section>

		<div class="login-wrap">
			<div class="login-html">
				<input id="tab-2" type="radio" name="tab" class="sign-up" checked><label for="tab-2" class="tab">Sign
					Up</label>
				<div class="login-form">
					<div class="sign-up-htm">
						<form action="/register" method="post" th:object="${user}">
							<div class="group">
								<label for="name" class="label">Username</label>
								<input id="name" type="text" class="input " th:value=${user.name} name="name"
									th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ' ' " required>
								<div class=" invalid-feedback" th:each="e : ${#fields.errors('name')}">
									<p th:text="${e}"></p>
								</div>
							</div>
							<div class="group">
								<label for="pass" class="label">Password</label>
								<input id="pass" type="password" class="input" th:value=${user.password}
									data-type="password" name="password" onkeyup="checkPassStrength();" required>
							</div>
							<div class="passwordStr text-left" style="display: none;">
								<p>Password should have:</p>
								<ul>
									<li>
										<p>at least 8 character, one capital, one small and one special character</p>
									</li>
								</ul>
							</div>

							<div class="group">
								<label for="email" class="label">Email Address</label>
								<input id="email" type="text" class="input" th:value=${user.email} name="email"
									required>
							</div>
							<div class="group">
								<input id="check" type="checkbox" class="check" name="agreement">
								<label for="check" style="color: white;"><span class="icon"></span> Agree terms and
									conditions</label>
							</div>
							<div class="group">
								<input type="submit" class="button" value="Sign Up">
							</div>
							<div class="hr"></div>
							<div class="foot-lnk">
								<a href="login">Already Member?</a>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

	</section>
</body>

</html>

<script>
	function checkPassStrength() {
		var password = document.getElementById("pass")
		if (password.value.length > 7) {
			var re = new RegExp("^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{8,100}$");

			if (re.test(password.value)) {
				$(".passwordStr").hide();
				password.setCustomValidity('');
				flag = true;
			} else {
			
				$(".passwordStr").show();
				password.setCustomValidity('Please choose strong password');
				flag = false;
			}
		}
	};
</script>
<style>
	
	.passwordStr{
		color: red;
	    font-size: 15px;
	    font-weight: bold;
		
	}
</style>